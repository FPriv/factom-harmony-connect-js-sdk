utils
-----

### Table of Contents

- [generateKeyPair](#generateKeyPair)
- [convertRawToKeyPair](#convertRawToKeyPair)
- [convertToRaw](#convertToRaw)

### generateKeyPair <a name="generateKeyPair"></a>

Creates a public/private key pair which can be applied to Identities
during creation or when replacing a key. An Identity's keys are used to
sign and verify messages.

**Note:** You do not need to use our SDK utility to create public/private
key pairs. Key pairs can also be generated by applying
[ed25519](https://ed25519.cr.yp.to/) algorithm, however a
special encoding scheme is used rather than simply the raw 32 byte
arrays. For details, please refer to Identity API Documentation [here](https://docs.harmony.factom.com/docs/factom-signing-standard#section-idpub-key-strings).

**Sample**
```JS
// ed25519signature2018 key pair
const keyPairObj = factomConnectSDK.utils.generateKeyPair()

// ecdsasecp256k1signature2019 key pairr
const keyPairObj = factomConnectSDK.utils.generateKeyPair({
  "keyType": "ecdsasecp256k1signature2019",
})

// rsasignature2018 key pair
const keyPairObj = factomConnectSDK.utils.generateKeyPair({
  "keyType": "rsasignature2018",
  "secretPassphrase": "mySecretPhrase",
})
```

**Parameters**

| **Name**                     | **Type** | **Description**                                                                                                                                                                                                                                                                       | **SDK Error Message & Description**       <img width=400/>                          |
|------------------------------|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|
| `params.keyType`             | string <br> `Required` | Possible types of key pairs to generate include: `ed25519signature2018`, `ecdsasecp256k1signature2019`, `rsasignature2018`. Defaults to `ed25519signature2018`                                                                                                                                                                                                | **provided ed25519 private key is invalid**<br>The `rawPrivateKey` parameter is not a properly ed25519 key.
|
| `params.secretPassphrase`             | string <br> `Required` | The passphrase required when generating RSA key pairs                                                                                                                                                                                               | **a secret passphrase is required to generate a RSA key pair**<br>The `secretPassphrase` parameter is either blank or missing from the argument object.
|
|


**Returns**</br>
A key pair object with public and private keys.
- **privateKey:** string</br>
The private key in base58 Idsec format.
- **publicKey:** string</br>
The public key in base58 Idpub format.</br>


```JS
// ed25519signature2018 key pair
{
   'privateKey':'idsec2rk3MH1kwZVeKD4Br3UTaU2VHxZF99kdkx27ryAhfMGYBgPgQH',
   'publicKey':'idpub2WL2aH5Y2s7atB1LwjEyaKa62pnuJXUaL5kcbahzwahc1Hiba6'
}
```

### convertRawToKeyPair <a name="convertRawToKeyPair"></a>
Very similar to `generateKeyPair()` in that it creates a public/private key pair which can be applied to Identity creation or replacement. However, this method allows you to pass in your own standard ed25519 key, which is converted into a key pair.

**Sample**
```JS
const keyPairObj = factomConnectSDK.utils.convertRawToKeyPair({
  rawPrivateKey: 'abcdefghijklmnopqrstuvwxyz123456'
})
```

**Parameters**

| **Name**                     | **Type** | **Description**                                                                                                                                                                                                                                                                       | **SDK Error Message & Description**       <img width=400/>                          |
|------------------------------|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|
| `params.rawPrivateKey`             | string <br> `Required` | The ed25519 key to be converted                                                                                                                                                                                                | **provided ed25519 private key is invalid**<br>The `rawPrivateKey` parameter is not a properly ed25519 key.
|
|

**Returns**</br>
A key pair object with public and private keys.
- **privateKey:** string</br>
The private key in base58 Idsec format.
- **publicKey:** string</br>
The public key in base58 Idpub format.</br>

Response
```JS
{
  privateKey: 'idseaoBBq4DskQwXGffkKQgYxT7zCuQFAPqVic3ZFayDZThXas1z2jv',
  publicKey: 'idpub3g5z2JPJCRqvPB1S4NtD6BWiVhDtV15CxdrgQadX1L9qzYzQKC'
}
```

### convertToRaw <a name="convertToRaw"></a>

This method converts an idpub/idsec key to a raw Uint8Array.

**Sample**
```JS
const keyBytesArray = factomConnectSDK.utils.convertToRaw({
  signerKey: 'idsec2ioPQqJvJzzwqskEW67yrWd2GwQMs1oCuLHsLHxejmBbEFpEY8'
})
```

**Parameters**

| **Name**                     | **Type** | **Description**                                                                                                                                                                                                                                                                       | **SDK Error Message & Description**       <img width=400/>                          |
|------------------------------|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|
| `params.signerKey`             | string <br> `Required` | The idsec/idpub key to be converted                                                                                                                                                                                                |**key is invalid**<br>The provided value for the key is not a properly formatted idsec or idpub key.|
|

**Returns**</br>
A key bytes array

Response
```JS
Uint8Array [
  206,
  52,
  64,
  7,
  230,
  61,
  24,
  192,
  43,
  186,
  215,
  44,
  182,
  4,
  8,
  81,
  1,
  203,
  226,
  186,
  148,
  125,
  4,
  67,
  251,
  60,
  240,
  170,
  194,
  252,
  23,
  203 ]
```